<html>
<head>
	<script src="dist/vendor.js"></script>
	<script src="dist/app.js"></script>
	<link rel="stylesheet" type="text/css" href="dist/styles.css">
</head>
<body>
    <select multiple='multiple' style="width:500px" id='target'>
        <optgroup label="All Brooklyn">
            <option value='1'>Crown Heights</option>
            <option value='2'>Park Slope</option>
			<option value='9'>Bed Stuy</option>
        </optgroup>
        <optgroup label="All Manhattan">
            <option value='3'>Flatiron</option>
            <option value='4'>Upper West Side</option>
        </optgroup>
        <optgroup label="All Queens">
            <option value='5'>Long Island City</option>
            <option value='6'>Astoria</option>
        </optgroup>
    </select>
	<script>
	$(function(){
	    
	    $.fn.select2.amd.require(["optgroupData", "optgroupResults"], 
	        function (OptgroupData, OptgroupResults) {

	        $('#target').select2({
	            dataAdapter: OptgroupData,
	            resultsAdapter: OptgroupResults,
	            closeOnSelect: false
	        }); 
	        
	        $('select').change(function(){ console.log( $(this).val() ) });
	    });
	});
	</script>
</body>
</html>